name : Main CI

run-name : ${{github.actor}} is running the main CI

on : 
  push : 
      branches : [main]
  pull_request : 
      branches : [main]


jobs:
  run-backend : 
    runs-on : ubuntu-latest

    strategy : 
      matrix : 
        node-version : ["18.x"]

    steps : 
      - uses : actions/checkout@v4
      - uses : actions/setup-node@v4
        with : 
          node-version : "18.x"
      - run : npm install
        working-directory : ./back
      - run : npm run start
        working-directory : ./back
      - run: npm run build --if-present
        working-directory : ./back